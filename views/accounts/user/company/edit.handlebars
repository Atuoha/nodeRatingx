<div class="alert alert-success">
    Editing - {{company.name}}
</div>



<form action="/user/company/update/{{company.id}}/?_method=PUT" method="post" enctype="multipart/form-data">

    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label for="" class="control-label">Company Name</label>
                <input type="text" value="{{company.name}}" placeholder="Company Name" class="form-control" name="name" required autofocus>
            </div>
        </div>


        <div class="col-md-4">
            <div class="form-group">
                <label for="" class="control-label">Company Address</label>
                <input type="text" value="{{company.address}}" placeholder="Address" class="form-control" name="address" required >
            </div>
        </div>


        <div class="col-md-4">
             <div class="form-group">
                <label for="" class="control-label">Company Website</label>
                <input type="text" value="{{company.website}}" placeholder="Website" class="form-control" name="website" required >
            </div>
        </div>

    </div>


<div class="row">
    <div class="col-md-4">
         <div class="form-group">
            <label for="" class="control-label" >City</label>
          <input type="text" value="{{company.city}}" placeholder="City" class="form-control" name="city" required >
        </div>
    </div>

       <div class="col-md-4">
         <div class="form-group">
            <label for="" class="control-label" >Country</label>
          <input type="text" value="{{company.country}}" placeholder="Country" class="form-control" name="country" required >
        </div>
    </div>


       <div class="col-md-4">
         <div class="form-group">
            <label for="" class="control-label" >Sector</label>
          <input type="text" value="{{company.sector}}" placeholder="Sector" class="form-control" name="sector" required >
        </div>
    </div>
</div>

    <div class="form-group">
            <label for="" class="control-label">Upload Image</label>
            <input type="file" name="file" id="inpFile" class="form-control" style="display: none;"><br>
            <button type="button" id="upload-btn" class="btn btn-success">Upload <i class="fa fa-file"></i></button>
    </div>

        <div class="image-preview pull-right" id="imagePreview">
            <img width="100" class="img-thumbnail image-preview__image" src="/uploads/{{company.file}}" alt=""> 
            <span class="image-preview__default-text"> </span>
        </div>   


    <br>
    <div class="form-group">
        <button type="submit" class="btn btn-success">Update Company</button>
    </div>

</form>





<!-- SCRIPTING FOR PREVIEWING IMAGE BEFORE UPLOADING  -->
<script src="/admin/js/jquery.js"></script>
<script>

    const inpFile = document.getElementById('inpFile');
    const previewContainer = document.getElementById('imagePreview');
    const previewImage = document.querySelector('.image-preview__image');
    const previewDefault = document.querySelector('.image-preview__default-text');

    inpFile.addEventListener('change',function(){
        const file = this.files[0];

        if(file){
            const reader = new FileReader();
            previewDefault.style.display = 'none';
            previewImage.style.display = 'block';

            reader.addEventListener('load',function(){
                previewImage.setAttribute('src',this.result);
                previewImage.style.width = '130px';
            });
            reader.readAsDataURL(file)
        }else{
            previewDefault.style.display = 'block';
            previewImage.style.display = 'none';
            previewImage.setAttribute('src',"");
        }
    })

    $('#upload-btn').click(function(){
        $('#inpFile').click()
    })
</script>