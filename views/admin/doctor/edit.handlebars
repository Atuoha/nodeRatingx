<div class="alert alert-success">
    Editing - {{doc.name}}
</div>


<form method="post" action="/admin/doctor/update/{{doc.id}}" enctype="multipart/form-data">

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="" class="control-label">Full Name</label>
                <input type="text" value="{{doc.name}}" class="form-control" autofocus required name="name">
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label for="" class="control-label">Field Name</label>
                <input type="text" value="{{doc.field}}" class="form-control" required name="field">
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="" class="control-label">Email</label>
                <input type="email" value="{{doc.email}}" class="form-control" required name="email">
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label for="" class="control-label">Capture</label>
                <input type="file" class="form-control" id="inpFile" name="file">
            </div>

             <div class="image-preview pull-right" id="imagePreview">
                <img width="100" class=" image-preview__image" src="/uploads/{{doc.file}}" alt=""> 
                <span class="image-preview__default-text"> </span>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="" class="control-label">Intro</label>
        <textarea name="intro" id="" class="form-control" cols="5" rows="6" required>{{doc.intro}}</textarea>
    </div>

    <div class="form-grou">
        <button type="submit" class="btn btn-primary">Create Record</button>
    </div>
</form>








<!-- SCRIPTING FOR PREVIEWING IMAGE BEFORE UPLOADING  -->
<script>

    const inpFile = document.getElementById('inpFile');
    const previewContainer = document.getElementById('imagePreview');
    const previewImage = document.querySelector('.image-preview__image');
    const previewDefault = document.querySelector('.image-preview__default-text');

    inpFile.addEventListener('change',function(){
        const file = this.files[0];

        if(file){
            const reader = new FileReader();
            previewDefault.style.display = 'none';
            previewImage.style.display = 'block';

            reader.addEventListener('load',function(){
                previewImage.setAttribute('src',this.result);
                previewImage.style.width = '130px';
            });
            reader.readAsDataURL(file)
        }else{
            previewDefault.style.display = 'block';
            previewImage.style.display = 'none';
            previewImage.setAttribute('src',"");
        }
    })
</script>